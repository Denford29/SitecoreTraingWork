@model events.tac.local.Models.NavigationMenu

<!-- [Page Navigation] -->
<h4>
    <a href="@Model.Url">
    @Model.Title
    </a>
</h4>

<div class="sidebar sidebar-static">
    @RenderNavigation(Model.Children)
</div>
<!-- [/Page Navigation] -->

@helper RenderNavigation(IEnumerable<events.tac.local.Models.NavigationMenu> items)
    {

    <ul class="nav nav-pills nav-stacked">
        @foreach (var item in items)
        {
            var listClass = "close";
            if(item.Children != null)
            {
                listClass = "open";
            }
            <li class="@listClass">
                <a href="@item.Url">
                @item.Title
                </a>
                @if(item.Children != null)
                {
                    @RenderNavigation(item.Children)
                }
            </li>
        }
    </ul>

}